from bot.misc.utils.alarm import remove_alarm, get_alarm_by_customer_id, is_alarm_exists
from aiogram import types
from ..database.classes.customer import Customer
from ..misc.utils.cities import get_cities
from bot.misc.bot import bot


async def account_markup(user_id: int) -> types.InlineKeyboardMarkup | None:
    keyboard_markup = types.InlineKeyboardMarkup(inline_keyboard = [
            [
                types.InlineKeyboardButton(text = "–†–µ–¥–∞–≥—É–≤–∞–Ω–Ω—è", callback_data = "edit_account"),
                types.InlineKeyboardButton(text = "–í–∏–¥–∞–ª–∏—Ç–∏ –∞–∫–∞—É–Ω—Ç", callback_data = "delete_account")
            ],
            []
        ]
    )

    customer = await Customer.get(user_id)
    if customer:
        # if customer['activated']:
            keyboard_markup.inline_keyboard[1].append(types.InlineKeyboardButton(text = "üì¢–¢–†–ò–í–û–ì–êüì¢", callback_data = "alarm"))
        # else:
            # keyboard_markup.inline_keyboard[1].append(types.InlineKeyboardButton(text = "–û—Ç—Ä–∏–º–∞—Ç–∏ –¥–æ—Å—Ç—É–ø –¥–æ –û—Ö–æ—Ä–æ–Ω–∏", callback_data = "get_guard_access"))
    return keyboard_markup
    

def alarm_reasons_markup() -> types.InlineKeyboardMarkup:
    keyboard_markup = types.InlineKeyboardMarkup(inline_keyboard = [
            [
                types.InlineKeyboardButton(text = "–î–¢–ü", callback_data = "–î–¢–ü/DTP"),
                types.InlineKeyboardButton(text = "C—ñ–º–µ–π–Ω–∞ —Å–≤–∞—Ä–∫–∞", callback_data = "C—ñ–º–µ–π–Ω–∞ —Å–≤–∞—Ä–∫–∞/Simeyna svarka"),
            ],
            [
                types.InlineKeyboardButton(text = "C—É–ø—Ä–æ–≤—ñ–¥", callback_data = "C—É–ø—Ä–æ–≤—ñ–¥/Suprovid"),
                types.InlineKeyboardButton(text = "–ó–∞–≥—Ä–æ–∑–∞ –∂–∏—Ç—Ç—é", callback_data = "–ó–∞–≥—Ä–æ–∑–∞ –∂–∏—Ç—Ç—é/Zagroza Djity")
            ]
        ]
    )
    return keyboard_markup


def get_guard_access_markup(user_id: int, url: str) -> types.InlineKeyboardMarkup:
    keyboard_markup = types.InlineKeyboardMarkup(inline_keyboard = [
            [
                types.InlineKeyboardButton(text = "–û–ø–ª–∞—Ç–∏—Ç–∏", url = url),
            ]
        ]
    )
    return keyboard_markup


def get_cities_markup():
    keyboard_markup = types.InlineKeyboardMarkup(inline_keyboard = [
        [types.InlineKeyboardButton(text = city, callback_data = city) for city in get_cities()]
    ])
    return keyboard_markup


async def close_alarm(user_id: int):
    alarm_id = get_alarm_by_customer_id(user_id)
    print(is_alarm_exists(alarm_id))
    remove_alarm(alarm_id)

    keyboard_markup = types.InlineKeyboardMarkup(inline_keyboard = [
        [
            types.InlineKeyboardButton(text = f"–ó–∞–ª–∏—à–∏—Ç–∏ –≤—ñ–¥–≥—É–∫", callback_data = "leave_respond"),
        ]
    ])
    await bot.send_message(chat_id = user_id, text = '–¢–µ–ø–µ—Ä –≤–∏ –º–æ–∂–µ—Ç–µ –∑–∞–ª–∏—à–∏—Ç–∏ –≤—ñ–¥–≥—É–∫:', reply_markup = keyboard_markup)


async def send_terms(message):
    keyboard_markup = types.InlineKeyboardMarkup(inline_keyboard = [
        [
            types.InlineKeyboardButton(text = "–¢–∞–∫", callback_data = "accept_terms"),
            types.InlineKeyboardButton(text = "–ù—ñ", callback_data = "refuse_terms") 
        ]
    ])
    await message.answer("""<b>–í–∏ –ø—Ä–∏–π–º–∞—î—Ç–µ —Ü—ñ –ø–æ—Å–ª—É–≥–∏\n?</b>–í–∏ —Ç–∞–∫–æ–∂ –≤–∏–∑–Ω–∞—î—Ç–µ, —â–æ –ü–æ—Å–ª—É–≥–∏, –¥–æ—Å—Ç—É–ø–Ω—ñ —è–∫ –≤–∞—Ä—ñ–∞–Ω—Ç–∏ –∑–∞–º–æ–≤–ª–µ–Ω—å —ñ –º–æ–∂—É—Ç—å –Ω–∞–¥–∞–≤–∞—Ç–∏—Å—å: (i) –æ–∫—Ä–µ–º–∏–º–∏ –¥–æ—á—ñ—Ä–Ω—ñ–º–∏ –∫–æ–º–ø–∞–Ω—ñ—è–º–∏ –∞–±–æ –∞—Ñ—ñ–ª—ñ–π–æ–≤–∞–Ω–∏–º–∏ –æ—Å–æ–±–∞–º–∏ EDOS; –∞–±–æ (ii) –Ω–µ–∑–∞–ª–µ–∂–Ω–∏–º–∏ —Å—Ç–æ—Ä–æ–Ω–Ω—ñ–º–∏ –ø—ñ–¥—Ä—è–¥–Ω–∏–∫–∞–º–∏.
        –ü–û–°–õ–£–ì–ò –¢–ê –ö–û–ù–¢–ï–ù–¢ –°–¢–û–†–û–ù–ù–Ü–• –ü–û–°–¢–ê–ß–ê–õ–¨–ù–ò–ö–Ü–í
        –ü–æ—Å–ª—É–≥–∏ –º–æ–∂—É—Ç—å –±—É—Ç–∏ –¥–æ—Å—Ç—É–ø–Ω—ñ –∞–±–æ –Ω–∞–¥–∞–≤–∞—Ç–∏—Å—è —à–ª—è—Ö–æ–º –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è –ø–æ—Å–ª—É–≥ —ñ –∫–æ–Ω—Ç–µ–Ω—Ç—É —Å—Ç–æ—Ä–æ–Ω–Ω—ñ—Ö –ø–æ—Å—Ç–∞—á–∞–ª—å–Ω–∏–∫—ñ–≤ (–∑–æ–∫—Ä–µ–º–∞, —Ä–µ–∫–ª–∞–º–Ω–æ–≥–æ —Ö–∞—Ä–∞–∫—Ç–µ—Ä—É), —è–∫—ñ –∫–æ–º–ø–∞–Ω—ñ—è EDOS –Ω–µ –∫–æ–Ω—Ç—Ä–æ–ª—é—î. 
        –í–∏ –≤–∏–∑–Ω–∞—î—Ç–µ, —â–æ –¥–æ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è –≤–∞–º–∏ —Ç–∞–∫–∏—Ö –ø–æ—Å–ª—É–≥ —ñ –∫–æ–Ω—Ç–µ–Ω—Ç—É —Å—Ç–æ—Ä–æ–Ω–Ω—ñ—Ö –ø–æ—Å—Ç–∞—á–∞–ª—å–Ω–∏–∫—ñ–≤ –º–æ–∂—É—Ç—å –∑–∞—Å—Ç–æ—Å–æ–≤—É–≤–∞—Ç–∏—Å—è —Ä—ñ–∑–Ω—ñ —É–º–æ–≤–∏ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è —Ç–∞ –ø–æ–ª—ñ—Ç–∏–∫–∏ –∫–æ–Ω—Ñ—ñ–¥–µ–Ω—Ü—ñ–π–Ω–æ—Å—Ç—ñ. –ö–æ–º–ø–∞–Ω—ñ—è EDOS –Ω–µ –ø—ñ–¥—Ç—Ä–∏–º—É—î —Ç–∞–∫—ñ –ø–æ—Å–ª—É–≥–∏ –π –∫–æ–Ω—Ç–µ–Ω—Ç —Å—Ç–æ—Ä–æ–Ω–Ω—ñ—Ö –ø–æ—Å—Ç–∞—á–∞–ª—å–Ω–∏–∫—ñ–≤ —ñ –∑–∞ –∂–æ–¥–Ω–∏—Ö –æ–±—Å—Ç–∞–≤–∏–Ω –Ω–µ –Ω–µ—Å–µ –≤—ñ–¥–ø–æ–≤—ñ–¥–∞–ª—å–Ω–æ—Å—Ç—ñ –∑–∞ –±—É–¥—å-—è–∫—ñ –ø—Ä–æ–¥—É–∫—Ç–∏ –∞–±–æ –ø–æ—Å–ª—É–≥–∏ —Ç–∞–∫–∏—Ö —Å—Ç–æ—Ä–æ–Ω–Ω—ñ—Ö –ø–æ—Å—Ç–∞—á–∞–ª—å–Ω–∏–∫—ñ–≤. 
        –ö—Ä—ñ–º —Ç–æ–≥–æ, –∫–æ—Ä–ø–æ—Ä–∞—Ü—ñ—ó Apple Inc., Google, Inc., Microsoft Corporation –∞–±–æ Blackberry Limited —ñ/–∞–±–æ —ó—Ö–Ω—ñ –≤—ñ–¥–ø–æ–≤—ñ–¥–Ω—ñ –º—ñ–∂–Ω–∞—Ä–æ–¥–Ω—ñ –¥–æ—á—ñ—Ä–Ω—ñ –∫–æ–º–ø–∞–Ω—ñ—ó –π –∞—Ñ—ñ–ª—ñ–π–æ–≤–∞–Ω—ñ –æ—Å–æ–±–∏ –≤–∏—Å—Ç—É–ø–∞—é—Ç—å —Å—Ç–æ—Ä–æ–Ω–Ω—ñ–º–∏ –±–µ–Ω–µ—Ñ—ñ—Ü—ñ–∞—Ä–∞–º–∏ –∑–∞ —É–º–æ–≤–∞–º–∏ —Ü—å–æ–≥–æ –¥–æ–≥–æ–≤–æ—Ä—É, —è–∫—â–æ –≤–∏ –æ—Ç—Ä–∏–º—É—î—Ç–µ –¥–æ—Å—Ç—É–ø –¥–æ –ü–æ—Å–ª—É–≥ –∑–∞ –¥–æ–ø–æ–º–æ–≥–æ—é –î–æ–¥–∞—Ç–∫—ñ–≤, —Ä–æ–∑—Ä–æ–±–ª–µ–Ω–∏—Ö –≤—ñ–¥–ø–æ–≤—ñ–¥–Ω–æ –¥–ª—è Apple iOS, Android —ñ Microsoft Windows –∞–±–æ –º–æ–±—ñ–ª—å–Ω–∏—Ö –ø—Ä–∏—Å—Ç—Ä–æ—ó–≤ Blackberry. –¶—ñ —Å—Ç–æ—Ä–æ–Ω–Ω—ñ –±–µ–Ω–µ—Ñ—ñ—Ü—ñ–∞—Ä–∏ –Ω–µ –≤–∏—Å—Ç—É–ø–∞—é—Ç—å —Å—Ç–æ—Ä–æ–Ω–∞–º–∏ –∑–∞ —Ü–∏–º –¥–æ–≥–æ–≤–æ—Ä–æ–º —ñ –≤ –∂–æ–¥–Ω–æ–º—É —Ä–∞–∑—ñ –Ω–µ –Ω–µ—Å—É—Ç—å –≤—ñ–¥–ø–æ–≤—ñ–¥–∞–ª—å–Ω–æ—Å—Ç—ñ –∑–∞ –Ω–∞–¥–∞–Ω–Ω—è –∞–±–æ –ø—ñ–¥—Ç—Ä–∏–º–∫—É –ü–æ—Å–ª—É–≥. –í–∞—à –¥–æ—Å—Ç—É–ø –¥–æ –ü–æ—Å–ª—É–≥ —ñ–∑ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è–º —Ü–∏—Ö –ø—Ä–∏—Å—Ç—Ä–æ—ó–≤ –º–∞—î –∑–¥—ñ–π—Å–Ω—é–≤–∞—Ç–∏—Å—è –≤—ñ–¥–ø–æ–≤—ñ–¥–Ω–æ –¥–æ —É–º–æ–≤, –≤–∏–∫–ª–∞–¥–µ–Ω–∏—Ö —É –≤—ñ–¥–ø–æ–≤—ñ–¥–Ω–∏—Ö –ø—Ä–∞–≤–∏–ª–∞—Ö –∫–æ—Ä–∏—Å—Ç—É–≤–∞–Ω–Ω—è –ø–æ—Å–ª—É–≥–∞–º–∏ —Å—Ç–æ—Ä–æ–Ω–Ω—ñ—Ö –±–µ–Ω–µ—Ñ—ñ—Ü—ñ–∞—Ä—ñ–≤.
        –§–û–†–ú–ê –í–õ–ê–°–ù–û–°–¢–Ü
        –ü–æ—Å–ª—É–≥–∏ —Ç–∞ –≤—Å—ñ –ø—Ä–∞–≤–∞, –≤–∏–∫–ª–∞–¥–µ–Ω—ñ –≤ —Ü—å–æ–º—É –¥–æ–∫—É–º–µ–Ω—Ç—ñ, –≤–∏—Å—Ç—É–ø–∞—é—Ç—å —ñ –∑–∞–ª–∏—à–∞—é—Ç—å—Å—è –≤–ª–∞—Å–Ω—ñ—Å—Ç—é –∫–æ–º–ø–∞–Ω—ñ—ó EDOS –∞–±–æ —ó—ó –ª—ñ—Ü–µ–Ω–∑—ñ–∞—Ä—ñ–≤. –ù—ñ —Ü—ñ –£–º–æ–≤–∏, –Ω—ñ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è –≤–∞–º–∏ –ü–æ—Å–ª—É–≥ –Ω–µ –ø–µ—Ä–µ–¥–∞—é—Ç—å —ñ –Ω–µ –Ω–∞–¥–∞—é—Ç—å –≤–∞–º –ø—Ä–∞–≤: (i) –Ω–∞ –ü–æ—Å–ª—É–≥–∏ –∞–±–æ –ø–æ–≤‚Äô—è–∑–∞–Ω—ñ –∑ –Ω–∏–º–∏ –ø—Ä–∞–≤–∞, –∫—Ä—ñ–º –æ–±–º–µ–∂–µ–Ω–æ—ó –ª—ñ—Ü–µ–Ω–∑—ñ—ó, –Ω–∞–¥–∞–Ω–æ—ó –≤–∏—â–µ; —ñ (ii) –Ω–∞ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è —Ñ—ñ—Ä–º–æ–≤–æ–≥–æ –Ω–∞–π–º–µ–Ω—É–≤–∞–Ω–Ω—è, –ª–æ–≥–æ—Ç–∏–ø—ñ–≤, –Ω–∞–π–º–µ–Ω—É–≤–∞–Ω—å –ø—Ä–æ–¥—É–∫—Ç—ñ–≤ –∞–±–æ –ø–æ—Å–ª—É–≥, —Ç–æ—Ä–≥–æ–≤–µ–ª—å–Ω–∏—Ö –º–∞—Ä–æ–∫ –∞–±–æ –∑–Ω–∞–∫—ñ–≤ –æ–±—Å–ª—É–≥–æ–≤—É–≤–∞–Ω–Ω—è EDOS —á–∏ —ó—ó –ª—ñ—Ü–µ–Ω–∑—ñ–∞—Ä—ñ–≤ –∞–±–æ –ø–æ—Å–∏–ª–∞–Ω—å –Ω–∞ –Ω–∏—Ö.
        3. –ö–æ—Ä–∏—Å—Ç—É–≤–∞–Ω–Ω—è –ü–æ—Å–ª—É–≥–∞–º–∏
        –û–ë–õ–Ü–ö–û–í–Ü –ó–ê–ü–ò–°–ò –ö–û–†–ò–°–¢–£–í–ê–ß–Ü–í
        –©–æ–± –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏ –ü–æ—Å–ª—É–≥–∏ –≤ –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–º—É –æ–±—Å—è–∑—ñ, –≤–∏ –º–∞—î—Ç–µ –æ—Ñ–æ—Ä–º–∏—Ç–∏ –ø—ñ–¥–ø–∏—Å–∫—É –Ω–∞ —á–∞—Ç-–±–æ—Ç EDOS Security –Ω–∞ –ø–ª–∞—Ç—Ñ–æ—Ä–º—ñ Telegram —Ç–∞ –∑–∞–ø–æ–≤–Ω–∏—Ç–∏ –≤—Å—é –Ω–µ–æ–±—Ö—ñ–¥–Ω—É —ñ–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—é –ø—Ä–æ —Å–µ–±–µ.  –í–∏ –º–æ–∂–µ—Ç–µ –æ—Ñ–æ—Ä–º–∏—Ç–∏ –ø—ñ–¥–ø–∏—Å–∫—É, —è–∫—â–æ –≤–∞–º –≤–∏–ø–æ–≤–Ω–∏–ª–æ—Å—è –ø—Ä–∏–Ω–∞–π–º–Ω—ñ 18 —Ä–æ–∫—ñ–≤ –∞–±–æ –≤–∏ –¥–æ—Å—è–≥–ª–∏ –ø–æ–≤–Ω–æ–ª—ñ—Ç—Ç—è —É —Å–≤–æ—ó–π —é—Ä–∏—Å–¥–∏–∫—Ü—ñ—ó (—è–∫—â–æ –≤–æ–Ω–æ –Ω–∞—Å—Ç–∞—î —Ä–∞–Ω—ñ—à–µ). –ü—ñ–¥ —á–∞—Å —Ä–µ—î—Å—Ç—Ä–∞—Ü—ñ—ó –†–∞—Ö—É–Ω–∫—É –≤–∏ –º–∞—î—Ç–µ –Ω–∞–¥–∞—Ç–∏ –∫–æ–º–ø–∞–Ω—ñ—ó EDOS –ø–µ–≤–Ω—É –æ—Å–æ–±–∏—Å—Ç—É —ñ–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—é, –∞ —Å–∞–º–µ: —Å–≤–æ—î –ø–æ–≤–Ω–µ —ñ–º‚Äô—è, –∞–¥—Ä–µ—Å—É, –Ω–æ–º–µ—Ä –º–æ–±—ñ–ª—å–Ω–æ–≥–æ —Ç–µ–ª–µ—Ñ–æ–Ω—É —Ç–∞ –≤—ñ–∫, –∞ —Ç–∞–∫–æ–∂ –≤–∫–∞–∑–∞—Ç–∏ –ø—Ä–∏–Ω–∞–π–º–Ω—ñ –æ–¥–∏–Ω –¥—ñ–π—Å–Ω–∏–π —Å–ø–æ—Å—ñ–± –æ–ø–ª–∞—Ç–∏ (—Ä–µ–∫–≤—ñ–∑–∏—Ç–∏ –∫—Ä–µ–¥–∏—Ç–Ω–æ—ó –∫–∞—Ä—Ç–∫–∏ –∞–±–æ –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω–æ—ó –ø–ª–∞—Ç—ñ–∂–Ω–æ—ó —Å–ª—É–∂–±–∏). –í–∏ –ø–æ–≥–æ–¥–∂—É—î—Ç–µ—Å—è –∑–∞–±–µ–∑–ø–µ—á–∏—Ç–∏ —Ç–æ—á–Ω—ñ—Å—Ç—å, –ø–æ–≤–Ω–æ—Ç—É –π –∞–∫—Ç—É–∞–ª—å–Ω—ñ—Å—Ç—å –¥–∞–Ω–∏—Ö. –Ø–∫—â–æ –≤–∏ –Ω–µ –≤ –∑–º–æ–∑—ñ –∑–∞–±–µ–∑–ø–µ—á–∏—Ç–∏ —Ç–æ—á–Ω—ñ—Å—Ç—å, –ø–æ–≤–Ω–æ—Ç—É –π –∞–∫—Ç—É–∞–ª—å–Ω—ñ—Å—Ç—å –¥–∞–Ω–∏—Ö, –∑–æ–∫—Ä–µ–º–∞ –Ω–∞—è–≤–Ω—ñ—Å—Ç—å –¥—ñ–π—Å–Ω–æ–≥–æ —Å–ø–æ—Å–æ–±—É –æ–ø–ª–∞—Ç–∏, —Ü–µ –º–æ–∂–µ –ø—Ä–∏–∑–≤–µ—Å—Ç–∏ –¥–æ –ø—Ä–∏–ø–∏–Ω–µ–Ω–Ω—è –¥–æ—Å—Ç—É–ø—É –¥–æ –ü–æ—Å–ª—É–≥ —ñ —ó—Ö –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è –∞–±–æ –¥–æ —Ä–æ–∑—ñ—Ä–≤–∞–Ω–Ω—è –∫–æ–º–ø–∞–Ω—ñ—î—é EDOS —Ü—ñ—î—ó –£–≥–æ–¥–∏ –∑ –≤–∞–º–∏. –í–∏ –Ω–µ—Å–µ—Ç–µ –≤—ñ–¥–ø–æ–≤—ñ–¥–∞–ª—å–Ω—ñ—Å—Ç—å –∑–∞ –≤—Å—ñ –¥—ñ—ó, —â–æ –≤–∏–∫–æ–Ω—É—é—Ç—å—Å—è –∑ –≤–∞—à–æ–≥–æ –û–±–ª—ñ–∫–æ–≤–æ–≥–æ –∑–∞–ø–∏—Å—É, —ñ –ø–æ–≥–æ–¥–∂—É—î—Ç–µ—Å—è –∑–∞ –∂–æ–¥–Ω–∏—Ö –æ–±—Å—Ç–∞–≤–∏–Ω –Ω–µ —Ä–æ–∑–≥–æ–ª–æ—à—É–≤–∞—Ç–∏ —Å–≤–æ—ó —ñ–º‚Äô—è –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞ —Ç–∞ –ø–∞—Ä–æ–ª—å. –í–∏ –Ω–µ –º–æ–∂–µ—Ç–µ –≤–æ–ª–æ–¥—ñ—Ç–∏ –∫—ñ–ª—å–∫–æ–º–∞ –û–±–ª—ñ–∫–æ–≤–∏–º–∏ –∑–∞–ø–∏—Å–∞–º–∏, —è–∫—â–æ –∫–æ–º–ø–∞–Ω—ñ—è EDOS –Ω–µ –Ω–∞–¥–∞–ª–∞ –Ω–∞ —Ü–µ –≤—ñ–¥–ø–æ–≤—ñ–¥–Ω–æ–≥–æ –¥–æ–∑–≤–æ–ª—É.
    """, reply_markup = keyboard_markup)

